
INCI-004として、以下のことを対応してくれるように、GoogleSheertに起票してワークフローを起動してほしい

修正内容１  
>  - 過去: 複数回の承認が必要（実装開始承認、ダッシュボード確認等）

こちらは過去のほうがいいです,まだどうしても承認回数が多いほうが、安心できる


修正内容２

>  python tools/progress_tracker/universal_statistical_analyzer.py --current {TRACKER_ID} --baseline {BASELINE_ID}

BASELINE_IDって特に指定しなくても実行できてそうなのですが、ここの指定って結構適当じゃないのでしょうか？

BASELINE_IDがしていない場合にエラーにするようにしてほしいです


修正内容１、２を実行した後、ワークフローの手順書を刷新して、私に提示してください

過去のワークフローの手順書

```
{トラッカーID}=XXX-XXX

※前のトラッカー(ベーストラッカー)はGoogleSheetで一番更新日付が新しいトラッカー

* [local/Claude] もしGoogleSheetにトラッカーが起票されてないなら先に起票(すでに起票済みならスルー)

  PROGRESS_TRACKER_SHEET_NAME="シート1" python3 tools/progress_tracker/cli.py create-enhanced {トラッカーID} --description “概要” --details

  "詳細な実装計画..."

  

* [local/Claude]GoogleStatusステータス更新

* [local/Claude]featureブランチを切って別のブランチで開発

* [local/Claude] git checkout -b feature/{トラッカーID}

* [local/Claude] 概要と詳細を改めて見なおす

* [local/Claude]概要と詳細で現在の実装と矛盾があるなら一旦ストップしてユーザーに確認

* [local/Claude]概要と詳細を見て、そもそも何がしたいかわからない場合も一旦ストップしてユーザーに確認（無理に開始しない）ヒアリングや質問もOK

* [local/Claude]概要と詳細を見て、Claude側で理解できたら、具体的な計画書やわかりやすい説明でユーザーに実装開始しても大丈夫か確認する

* [ユーザー]実装開始の承認する

* [local/Claude]実装

* [local/Claude]追加で実装したらテストも追加で実装

* [local/Claude]修正内容のpushとPullRequestの作成

* [github]CIが回る

* [github]動作チェック

* [github]UnitTest（今あるtestディレクトリ以下のテスト全部）

* [github]テストの中には画像抽出もあるので唯一テスト用の漫画アニメキャラクターの画像をpushするのでそれが抽出できてるかを確認すること

* [github]QCチェック（今あるQC関係全部）

* [local/Claude]PullRequestの状態を確認する（3分ごとに確認）CIがすべてSUCCEEDされてるかチェック、jobが待っていたり実行中ならリトライ

* jobがエラーなら修正して（成功するまで何度もくり返し改善）

* 具体的には以下を見続けてすべてのjobが成功するまで繰り返し確認

* https://github.com/miyashita337/segment-anything/pull/{pull_request_id}

  ですべてのCIやチェックやアクションが通ったら報告してください、それができてない場合は繰り返し改善をしてください

* [local/Claude]githubのCIの同時並列で以下をする

* [local/Claude]ワークフロー実行、上記トラッカーIDでワークフロー実行

* [local/Claude]テストやデモじゃないので全画像を対象として,抽出プログラム実行(python3 features/extraction/commands/extract_character.py  INPUT_DIR -o OUTPUT_DIR --batch)

* [local/Claude]抽出バッチを実行(バックグラウンド)

１ファイルに５分以上かかる場合は、一旦ストップしてユーザーに確認させること

5分タイムアウトの実装方法

    - 現在は手動監視前提

- 自動タイムアウト機能は未実装なら実装しておくこと

  

  

* [local/Claude]ダッシュボード作成

* [local/Claude]統計分析実行

  

+  # 手動ベースライン指定

+  python tools/progress_tracker/universal_statistical_analyzer.py --current 

{TRACKER_ID} --baseline {BASELINE_ID}

  

  

-  - python3 -c "

-    from features.evaluation.statistical_quality_analyzer import StatisticalQualityAnalyzer

-    analyzer = StatisticalQualityAnalyzer()

-    result = analyzer.compare_trackers(‘{前回のトラッカーID}’, '{トラッカーID}')

-    print(f'統計的改善: p={result.p_value:.4f}, 効果サイズ={result.effect_size:.3f}')

-    "

  - 前回のベースライントラッカーと比較

  - p値・効果サイズ・改善率を計算

  - 統計的有意性の判定

  ↓

  [local/Claude]統計結果をダッシュボードに統合

  - 統計レポート（JSON/HTML）生成

  - ダッシュボードに統計サマリー追加

  ↓

* [local/Claude]ダッシュボード確認

  

  *  # 実際の必要コマンド（PRINCIPLE.mdに記載済み）

  * curl -u admin:[PASSWORD] http://100.123.241.106:8088/tracker/{トラッカーID}

  

* ダッシュボード内の画像もブラウザ上で表示できてることを確認できてること

* 画像はBase64ではなく画像パスであること

* [local/Claude] このとき修正が入ってたらもう一度commiy push をしてCIを回してください、localhostの抽出プログラム実行(features/extraction/commands/extract_character.py)とCIが両方とも成功するように繰り返し改善するようにしてください

* 両方が問題なく通ったら、ユーザーに報告

* [ユーザー]ダッシュボード確認
```



----
まずは
* googlesheets 起票　INCI-004
* ブランチを切る
* ここで計画書に沿って調査、実装
（ここでユーザーに確認を取って）

* tools/progress_tracker/universal_statistical_analyzer.pyを新規作成
	* その前に、同じ機能を持つものがないか確認して
	* 

	 
	 
	 │ ⚠️ 注意事項             
     │ - 既存の13ステップ・4フェーズ構造は維持  
     │ - 品質保証レベルは現在と同等以上を確保    
     │ - 過去の手順書フォーマットとの互換性を考慮
